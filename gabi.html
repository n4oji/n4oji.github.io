<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link href="assets\img\favicon\Favicon_Portfolio_Naoji-16.png" rel="icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Surpresa para Minha Namorada</title>
    <link href="assets/css/gradient.css" rel="stylesheet">
    <link href="assets/css/gabi.css" rel="stylesheet">
    <link href="assets/css/gabi-responsive.css" rel="stylesheet">
    <link href="assets/css/gallery-styles.css" rel="stylesheet">
    <link href="assets/css/modal.css" rel="stylesheet">
    <link href="assets/css/password.css" rel="stylesheet">
    <link href="assets/css/countdown.css" rel="stylesheet">
    <link href="assets/css/radio.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fascinate&family=Goldman:wght@400;700&family=Michroma&family=Orbitron:wght@400;600;800;900&family=Zen+Dots&display=swap"
        rel="stylesheet">
    <style>
        body,
        a,
        button {
            cursor: url('cursors/default.cur'), auto;
        }
    </style>
</head>

<body>
    <!-- P√°gina de Entrada -->
    <div id="password-screen">
        <h2 style="margin-bottom: 20px; font-family: 'Orbitron', sans-serif; letter-spacing: 2px; font-size: 32px;">
            <span style="color: #ffd700; text-shadow: 0 0 10px #ffd700;">‚ô•</span>
            Access Required
            <span style="color: #ffd700; text-shadow: 0 0 10px #ffd700;">‚ô•</span>
        </h2>
        <div id="password-input">

            <input type="password" id="password" readonly>


            <div id="keypad">
                <button class="key" data-value="1">1</button>
                <button class="key" data-value="2">2</button>
                <button class="key" data-value="3">3</button>
                <button class="key" data-value="4">4</button>
                <button class="key" data-value="5">5</button>
                <button class="key" data-value="6">6</button>
                <button class="key" data-value="7">7</button>
                <button class="key" data-value="8">8</button>
                <button class="key" data-value="9">9</button>
                <button id="clear" data-action="clear">Clear</button>
                <button class="key" data-value="0">0</button>
                <button id="enter" data-action="enter">Enter</button>
            </div>
        </div>
    </div>

    <!-- Conte√∫do Principal -->
    <div id="main-content" style="display: none; opacity: 0; transition: all 0.8s ease;" class="boddy">
        <!-- <div id="main-content" class="boddy"> -->
        <!-- Player de R√°dio -->
        <div class="radio-container paused">
            <div class="radio-header">
                <div class="radio-controls">
                    <div class="radio-indicator"></div>
                    <span class="now-playing"></span>
                </div>
                <span class="radio-title">‚ô´ R√°dio J-POP Gabi & Naoji ‚ô´</span>
            </div>

            <audio id="radio-player" controls preload="none">
                <source src="https://kathy.torontocast.com:3060/;?type=http&nocache=1614591208" type="audio/mpeg">
                Seu navegador n√£o suporta √°udio HTML5.
            </audio>
            <div class="custom-controls">
                <button id="play-btn" class="play">‚ñ∂Ô∏è</button>
                <input type="range" id="volume-control" min="0" max="1" step="0.01" value="1">
            </div>

        </div>

        <section class="centered-content">
            <div class="dashboard">
                <div class="window-bar">
                    <p>Gabrielle Lie Takatsuka Fukamati!</p>
                </div>

                <div class="profile">
                    <h2 class="title">Enfim 2 anos...</h2>
                    <p class="text">E para comemorar essa data t√£o especial, preparei uma (n√£o t√£o) surpresa especial
                        para voc√™!
                        üåû</p>
                </div>

                <div class="tabs">
                    <button class="tab" onclick="openCity(event, 'Cartinha')">Cartinha</button>
                    <button class="tab" onclick="openCity(event, 'Datas')">3 anos</button>
                    <button class="tab" onclick="openCity(event, 'Galeria')">Galeria</button>
                </div>
            </div>

            <div id="Cartinha" class="tabcontent">
                <div class="item-bar">
                    <h3>Cartinha</h3>
                    <span onclick="this.parentElement.parentElement.style.display='none'" class="topright">
                        X
                    </span>
                </div>

                <div class="inside">
                    <h2>Vida,</h2>
                    <br>
                    <p>Feliz dois anos de namoro! ‚ù§Ô∏è</p>
                    <br>
                    Espero que esteja feliz assim como eu estou. Dois anos se passaram r√°pido demais e, mesmo assim,
                    parece que j√° te
                    conhe√ßo h√° d√©cadas. Confesso que estou escrevendo essa cartinha atrasadamente porque eu n√£o sei
                    escrever e estava sem
                    ideia do que falar, pois n√£o estaria no n√≠vel das coisas que voc√™ faz pra mim. Todos os seus
                    presentes e cartas s√£o t√£o
                    bons que fico com receio de fazer algo ruim pra voc√™. Mas essa cartinha √© de cora√ß√£o e "IA
                    less".
                    <br><br>
                    A minha vida t√° um caos recentemente, com a minha m√£e come√ßando a trabalhar e cada semana uma
                    bomba nova no meu servi√ßo.
                    Mas o que me conforta e me traz um pouco de sossego √© saber que voc√™ vai estar me esperando no
                    fim de semana, para me
                    acalmar e me fazer dormir tranquilamente. At√© porque s√≥ com voc√™ eu consigo fazer isso. Quero
                    muito receber um aumento
                    ou uma proposta de um trabalho melhor pra podermos, enfim, morar juntos e come√ßarmos a construir
                    de fato algo nosso. Por
                    enquanto, temos um cachorro e um colch√£o.
                    <br><br>
                    E o que eu mais quero, al√©m de morar com voc√™, √© viajar com voc√™. Talvez n√£o seja pro Jap√£o a
                    nossa primeira viagem, mas eu
                    ficaria feliz s√≥ de estarmos sozinhos um final de semana em qualquer lugar do mundo.
                    <br><br>
                    Eu queria saber te confortar melhor, igual voc√™ faz comigo, porque sempre que voc√™ me fala sobre
                    suas coisas e epis√≥dios, como do seu pai ou do cabelo, eu nunca sei ao certo como te fazer melhorar.
                    Mas saiba que eu
                    sempre vou estar aqui
                    pra voc√™, pro que der e vier.
                    <br><br>
                    Feliz dois anos de namoro. Essa carta n√£o ficou nem um pouco do jeito que eu esperava, mas
                    acredito que eu consegui
                    passar um pouco do que eu estou sentindo.
                    <br><br>
                    Vamos comemorar no Paquito!!
                    <br><br>
                    Te amo,
                    <br><br>
                    <strong>Nana</strong>
                    </p>

                </div>
            </div>


    </div>

    <div id="Datas" class="tabcontent">
        <div class="item-bar">
            <h3>Contador</h3>
            <span onclick="this.parentElement.parentElement.style.display='none'" class="topright">
                X
            </span>
        </div>
        <div class="inside">
            <div id="countdown">
                <b>3 anos</b>
                <div id="countdown-timer"></div>
            </div>

        </div>
    </div>

    <div id="Galeria" class="tabcontent">
        <div class="item-bar">
            <h3>Galeria</h3>
            <span onclick="this.parentElement.parentElement.style.display='none'" class="topright">
                X
            </span>
        </div>
        <div class="inside gallery-container">
            <h3 class="gallery-title">Nossos momentos juntos ‚ù§Ô∏è</h3>

            <div class="gallery-wrapper">
                <div class="gallery-item" data-image="assets/img/gabi/1.jpg"
                    data-caption="Nossa primeira viagem de avi√£o juntos">
                    <img src="assets/img/gabi/1.jpg" alt="Foto 1">
                    <div class="gallery-caption">Nossa primeira viagem de avi√£o juntos</div>
                </div>
                <div class="gallery-item" data-image="assets/img/gabi/2.jpg" data-caption="Cora√ß√£ozinho">
                    <img src="assets/img/gabi/2.jpg" alt="Foto 2">
                    <div class="gallery-caption">Cora√ß√£ozinho ‚ù§Ô∏è</div>
                </div>
                <div class="gallery-item" data-image="assets/img/gabi/3.jpg" data-caption="Dia que tive dor de barriga">
                    <img src="assets/img/gabi/3.jpg" alt="Foto 3">
                    <div class="gallery-caption">Dia que tive dor de barriga</div>
                </div>
                <div class="gallery-item" data-image="assets/img/gabi/4.jpg" data-caption="Girassol">
                    <img src="assets/img/gabi/4.jpg" alt="Foto 4">
                    <div class="gallery-caption">Girassol üåª</div>
                </div>
                <div class="gallery-item" data-image="assets/img/gabi/5.jpg" data-caption="Primeira Maratona">
                    <img src="assets/img/gabi/5.jpg" alt="Foto 5">
                    <div class="gallery-caption">Primeira Maratona</div>
                </div>
                <div class="gallery-item" data-image="assets/img/gabi/6.jpg" data-caption="Dia de ficar queimado">
                    <img src="assets/img/gabi/6.jpg" alt="Foto 6">
                    <div class="gallery-caption">Dia de ficar queimado</div>
                </div>
            </div>

            <!-- Modal para exibi√ß√£o ampliada da imagem -->
            <div id="gallery-modal" class="gallery-modal">
                <span class="gallery-modal-close" onclick="closeGalleryModal()">&times;</span>
                <div class="gallery-modal-content">
                    <div class="loading-indicator"></div>
                    <img id="gallery-modal-image"
                        onload="this.style.opacity='1'; document.querySelector('.loading-indicator').style.display='none';"
                        onerror="this.src='assets/img/gabi/heart.gif'; this.onerror=null;">
                    <div class="gallery-modal-caption"></div>
                    <div class="gallery-page-indicator">
                        <span id="current-page">1</span>/<span id="total-pages">6</span>
                    </div>
                    <div class="gallery-modal-navigation">
                        <button class="gallery-nav-btn prev" id="prev-btn" onclick="changeGalleryImage(-1)">‚ùÆ</button>
                        <button class="gallery-nav-btn next" id="next-btn" onclick="changeGalleryImage(1)">‚ùØ</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    </section>
    </div>

    <script src="assets/js/randomizeCursor.js"></script>
    <script src="assets/js/gabi.js"></script>
    <script src="assets/js/gallery-fix.js"></script>
    <script src="assets/js/password.js"></script>
    <script src="assets/js/countdown.js"></script>
    <script src="assets/js/radio.js"></script>
    <script>
        // Script adicional para gerenciar os modais e bot√µes de navega√ß√£o
        document.addEventListener('DOMContentLoaded', function () {
            // Configurar event listeners diretos para os bot√µes de navega√ß√£o
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            // Fun√ß√£o auxiliar para adicionar suporte a eventos de toque e clique
            function addMultiEventListener(element, eventNames, handler) {
                eventNames.forEach(eventName => {
                    element.addEventListener(eventName, handler, { passive: false });
                });
            }

            if (prevBtn) {
                addMultiEventListener(prevBtn, ['click', 'touchend'], function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    changeGalleryImage(-1);
                    console.log('Prev button clicked or tapped');
                    return false;
                });
            }

            if (nextBtn) {
                addMultiEventListener(nextBtn, ['click', 'touchend'], function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    changeGalleryImage(1);
                    console.log('Next button clicked or tapped');
                    return false;
                });
            }

            // Configurar observador para modais din√¢micos
            // Isso garante que os bot√µes da galeria funcionem mesmo dentro de modais
            const bodyObserver = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    if (mutation.addedNodes && mutation.addedNodes.length > 0) {
                        // Verificar se algum modal foi adicionado
                        mutation.addedNodes.forEach(function (node) {
                            if (node.classList && node.classList.contains('modal-overlay')) {
                                // Se √© um modal de galeria, reconfigurar os bot√µes
                                if (node.querySelector('.gallery-wrapper')) {
                                    const modalPrevBtn = node.querySelector('.prev-btn');
                                    const modalNextBtn = node.querySelector('.next-btn');

                                    if (modalPrevBtn) {
                                        modalPrevBtn.addEventListener('click', function (e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            changeGalleryImage(-1);
                                        });
                                    }

                                    if (modalNextBtn) {
                                        modalNextBtn.addEventListener('click', function (e) {
                                            e.preventDefault();
                                            e.stopPropagation();
                                            changeGalleryImage(1);
                                        });
                                    }
                                }
                            }
                        });
                    }
                });
            });

            // Iniciar observa√ß√£o do DOM
            bodyObserver.observe(document.body, { childList: true, subtree: true });

            // Resolver problema de GIFs vis√≠veis adicionando estilo aos elementos y2k-content
            const style = document.createElement('style');
            style.innerHTML = `
                body.modal-open .y2k-content {
                    visibility: hidden !important;
                    display: none !important;
                }
                
                /* Melhorar visualiza√ß√£o do modal em dispositivos m√≥veis */
                .gallery-modal {
                    overscroll-behavior: contain;
                    z-index: 2000 !important; /* Garantir que fique acima de tudo */
                }
                
                /* For√ßar visibilidade dos bot√µes */
                #prev-btn, #next-btn {
                    opacity: 1 !important;
                    visibility: visible !important;
                }
                
                /* Melhorar a visualiza√ß√£o dos itens da galeria */
                .modal-body .gallery-item {
                    cursor: pointer !important;
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                }
                
                .modal-body .gallery-item:hover {
                    transform: translateY(-5px) scale(1.05);
                    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
                    z-index: 5;
                }
                
                /* Adicionar indicador visual de clicabilidade */
                .modal-body .gallery-item:after {
                    content: '';
                    position: absolute;
                    top: 5px;
                    right: 5px;
                    width: 20px;
                    height: 20px;
                    background-color: var(--c-hot-pink);
                    border-radius: 50%;
                    border: 2px solid white;
                    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
                    opacity: 0.8;
                    transition: transform 0.2s ease;
                }
                
                .modal-body .gallery-item:hover:after {
                    transform: scale(1.2);
                }
            `;
            document.head.appendChild(style);

            // Adicionar suporte para swipe em dispositivos m√≥veis
            let touchstartX = 0;
            let touchendX = 0;

            document.getElementById('gallery-modal').addEventListener('touchstart', e => {
                touchstartX = e.changedTouches[0].screenX;
            }, { passive: true });

            document.getElementById('gallery-modal').addEventListener('touchend', e => {
                touchendX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });

            function handleSwipe() {
                const threshold = 50; // m√≠nimo de pixels para considerar um swipe
                if (touchendX < touchstartX - threshold) {
                    // swipe para a esquerda - pr√≥xima imagem
                    changeGalleryImage(1);
                    console.log('Swipe left detected');
                }
                if (touchendX > touchstartX + threshold) {
                    // swipe para a direita - imagem anterior
                    changeGalleryImage(-1);
                    console.log('Swipe right detected');
                }
            }
        });

        // Sobrescrever as fun√ß√µes originais para manter o corpo no estado correto
        const originalOpenGalleryModal = window.openGalleryModal;
        window.openGalleryModal = function (imageSrc, caption) {
            document.body.classList.add('modal-open');
            originalOpenGalleryModal(imageSrc, caption);

            // Verificar se os event listeners est√£o configurados corretamente
            setTimeout(() => {
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');

                if (prevBtn && !prevBtn._hasClickListener) {
                    prevBtn._hasClickListener = true;
                    prevBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Late binding prev button clicked');
                        changeGalleryImage(-1);
                    });
                }

                if (nextBtn && !nextBtn._hasClickListener) {
                    nextBtn._hasClickListener = true;
                    nextBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Late binding next button clicked');
                        changeGalleryImage(1);
                    });
                }
            }, 100);
        };

        const originalCloseGalleryModal = window.closeGalleryModal;
        window.closeGalleryModal = function () {
            originalCloseGalleryModal();
            setTimeout(() => {
                document.body.classList.remove('modal-open');
            }, 300);
        };

        // Fun√ß√£o para verificar e corrigir os cliques da galeria dentro dos modais
        function fixModalGalleryClicks() {
            console.log("Verificando cliques da galeria no modal...");

            // Buscar todos os modais abertos que contenham gallery-items
            const modalOverlays = document.querySelectorAll('.modal-overlay');
            modalOverlays.forEach(overlay => {
                const galleryItems = overlay.querySelectorAll('.gallery-item');
                if (galleryItems && galleryItems.length > 0) {
                    console.log("Encontrado modal com galeria:", galleryItems.length, "imagens");

                    galleryItems.forEach(item => {
                        const imgSrc = item.getAttribute('data-image');
                        const caption = item.getAttribute('data-caption');

                        if (imgSrc) {
                            // Adicionar a fun√ß√£o de clique
                            item.onclick = function (e) {
                                e.preventDefault();
                                e.stopPropagation();
                                openGalleryModal(imgSrc, caption);
                                return false;
                            };

                            // Imagem dentro do item
                            const img = item.querySelector('img');
                            if (img) {
                                img.onclick = function (e) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    openGalleryModal(imgSrc, caption);
                                    return false;
                                };
                            }
                        }
                    });
                }
            });
        }

        // Executar esta fun√ß√£o periodicamente para garantir que os cliques funcionem
        setInterval(fixModalGalleryClicks, 1000);
    </script>
</body>

</html>